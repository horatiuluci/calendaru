{"version":3,"sources":["webpack:///src/environments/environment.ts","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/auth/auth-token.interceptor.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["environment","production","apiUrl","AuthGuard","authService","router","userIsAuthenticated","navigateByUrl","providedIn","AppComponent","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","declarations","imports","providers","bootstrap","AuthService","http","_userIsAuthentificated","_secretToken","username","password","post","subscribe","data","accessToken","error","console","log","routes","path","loadChildren","then","m","AuthPageModule","EventsPageModule","canActivate","canLoad","redirectTo","pathMatch","AppRoutingModule","forRoot","exports","TokenInterceptor","auth","request","next","clone","setHeaders","Authorization","token","handle","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:80',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, CanLoad, Router } from '@angular/router';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate, CanLoad {\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router) \r\n  {}\r\n\r\n  canActivate() {\r\n      if(!this.authService.userIsAuthenticated){\r\n        this.router.navigateByUrl('/auth');\r\n      }\r\n      return this.authService.userIsAuthenticated;\r\n  }\r\n\r\n  canLoad() {\r\n    if(!this.authService.userIsAuthenticated){\r\n      this.router.navigateByUrl('/auth');\r\n    }\r\n    return this.authService.userIsAuthenticated;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  \n}\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';  \nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { TokenInterceptor } from './auth/auth-token.interceptor';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    CommonModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    AppRoutingModule,\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptor,\n      multi: true\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\n\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  private _userIsAuthentificated: boolean = false;\r\n  private _secretToken: string = '';\r\n\r\n  get userIsAuthenticated() {\r\n    return this._userIsAuthentificated;\r\n  }\r\n\r\n  get token() {\r\n    return this._secretToken;\r\n  }\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router\r\n  ) { }\r\n\r\n  login(username, password) {\r\n    this.http\r\n      .post<any>(environment.apiUrl + '/login', {username: username, password: password})\r\n      .subscribe(\r\n        (data) => {\r\n          if (data) {\r\n            this._secretToken = data.accessToken as string;\r\n            this._userIsAuthentificated = true;\r\n            this.router.navigateByUrl('/events');\r\n          }\r\n        },\r\n        (error) => console.log(error)\r\n      );\r\n  }\r\n\r\n  logout(){\r\n    this._userIsAuthentificated = false;\r\n    this._secretToken = '';\r\n    this.router.navigateByUrl('/');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthGuard } from './auth/auth.guard';\n\nconst routes: Routes = [\n  {\n    path: 'auth',\n    loadChildren: () => import('./auth/auth.module').then(m => m.AuthPageModule)\n  },\n  {\n    path: 'events',\n    loadChildren: () => import('./events/events.module').then(m => m.EventsPageModule),\n    canActivate: [AuthGuard],\n    canLoad: [AuthGuard]\n  },\n  {\n    path: '', redirectTo: 'auth', pathMatch: 'full'\n  },\n  { \n    path: '**', redirectTo: ''\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n  constructor(public auth: AuthService) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    request = request.clone({\r\n      setHeaders: {\r\n        Authorization: \"Bearer \" + this.auth.token\r\n      }\r\n    });\r\n    return next.handle(request);\r\n  }\r\n}","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}